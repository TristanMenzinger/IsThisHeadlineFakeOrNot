<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <script src="index.js"></script>
    <link rel="stylesheet" type="text/css" href="index.css">
</head>

<body onload="init()">
    <div id="celebration_container">
    </div>
    <div id="difficulty">
        <div id="container-title">
            <h4>Is this Headline</h4>
            <h1><span class="red">fake</span> or <span class="green">not</span>?</h1>
        </div>
        <div id="difficulty-picker">
            <a role="button" href="?difficulty=Easy" class="btn btn-outline-success">
                Easy
            </a>
            <a role="button" href="?difficulty=Medium" class="btn btn-outline-warning">
                Medium
            </a>
            <a role="button" href="?difficulty=Hard" class="btn btn-outline-danger">
                Hard
            </a>
            <a role="button" href="?difficulty=Hard" class="btn btn-outline-secondary">
                Mixed
            </a>
        </div>
    </div>
    <div id="info-done">
        <h1>All done.</h1>
        <span>
            <h6>You got</h6>
            <h5>3 / 10</h5>
            <h6>right.</h6>
        </span>
        <span>
            <h5><a href="javascript:history.go(0)">Play again</a></h5>
            <h6>or</h6>
            <h5><a href="?">Change difficulty</a></h5>
        </span>
        <div id="info-done-results">
            <!--             <div class="card info-card">
                <div class="card-body">
                    <i class="fas fa-check"></i>
                    <span class="title">Lisa Joy Joins Chris Pratt In 'Raising Hope'</span>
                    <span class="score"><span class="red">is fake</span> and you <span class="red">said it was fake</span>.</span>
                </div>
            </div>
            <div class="card info-card">
                <div class="card-body">
                    <i class="fas fa-times"></i>
                    <span class="title">Kata Ost: Direct All Children To Holiday Book Club</span>
                    <span class="score"><span class="green">is real</span> and you <span class="red">said it was fake</span>.</span>
                </div>
            </div> -->
            <!--             <div class="card">
                <div class="card-body">
                    <span>Laura Bicker, Former DNC Chair, Discusses Getting Back to Work After a Breakup</span>
                    <span class="badge badge-success">Right</span>
                </div>
            </div>
            <div class="card">
                <div class="card-body">
                    <span>The Easiest Slut-shaming Tax Ways To Get Rid Of The Smugness</span>
                    <span class="badge badge-success">Right</span>
                </div>
            </div> -->
        </div>
    </div>
    <div id="container-wrapper">
        <div id="container-title">
            <h4>Is this Headline</h4>
            <h1><span class="red">fake</span> or <span class="green">not</span>?</h1>
            <span class="instructions">Swipe right if you think it's real, left if fake.</span>
        </div>
        <div id="container-headlines" class="rel-max-wrapper">
            <div class="card swipe-card headline last-headline">
                <div class="card">
                    <div class="card">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
    async function confetti_rain(color = "red") {
        let celebration_container = document.getElementById("celebration_container");
        let confetti = [];
        for (let x = 0; x < 150; x++) {
            let c = document.createElement("div")
            c.classList.add("confetti")

            c.style.opacity = 0.8;

            let height = 5+20*Math.random()

            c.style.height = `${5+5*Math.random()}px`;
            c.style.width = `${50 / height}px`;
            c.style.backgroundColor = `rgb(${255*Math.random()}, ${255*Math.random()}, ${255*Math.random()})`;
            // c.style.backgroundColor = color;
            c.style.top = -10 + "px";
            c.style.left = 10 + screen.width * Math.random() * 0.92 + "px";

            let drop = (1 + Math.random() * 2) / 1.5;
            let start = 2 * Math.random();
            let offset = 0.75;
            c.style.transition = `all ${drop}s linear ${start}s, opacity linear ${drop-offset}s ${start}s`;

            celebration_container.appendChild(c)
            confetti.push(c);
        }

        for (let c of confetti) {
            setTimeout(() => {
                c.style.transform = `translateY(${screen.height/2}px) rotate(${(Math.random()-0.5)*180}deg)`;
                c.style.opacity = 0;
            }, 10);
        }

        setTimeout(() => {
            console.log(confetti.length)
            for (let c of confetti) {
                c.remove();
            }
        }, 3000);
    }

    // confetti_rain();

    // setTimeout(function() {
    //     console.log("confettitime")
    //     confetti_rain();
    // }, 1);
    // setTimeout(function() {
    //     console.log("confettitime")
    //     confetti_rain();
    // }, 1000);
    // setTimeout(function() {
    //     console.log("confettitime")
    //     confetti_rain();
    // }, 2 * 1000);
    // setTimeout(function() {
    //     console.log("confettitime")
    //     confetti_rain();
    // }, 3 * 1000);
    </script>
</body>

</html>